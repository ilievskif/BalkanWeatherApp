(this.webpackJsonpreact_weather_app=this.webpackJsonpreact_weather_app||[]).push([[0],[,,,,,function(e){e.exports=JSON.parse('[{"title":"Skopje, MKD","location_type":"City","woeid":482940,"latt_long":"41.99646,21.43141"},{"title":"Belgrade, SRB","location_type":"City","woeid":532697,"latt_long":"44.787197,20.457273"},{"title":"Zagreb, HRV","location_type":"City","woeid":851128,"latt_long":"45.815399,15.966568"},{"title":"Ljubljana, SVN","location_type":"City","woeid":530634,"latt_long":"46.056946,14.505751"},{"title":"Sarajevo, BIH","location_type":"City","woeid":2123260,"latt_long":"43.856430,18.413029"},{"title":"Sofia, BGR","location_type":"City","woeid":839722,"latt_long":"42.698334,23.319941"},{"title":"Podgorica, MNE","location_type":"City","woeid":29389237,"latt_long":"42.442574,19.268646"},{"title":"Tirana, ALB","location_type":"City","woeid":29389564,"latt_long":"41.327953,19.819025"}]')},,,function(e,t,n){e.exports=n.p+"static/media/options.45c2c365.svg"},,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),i=n.n(c),o=(n(16),n(1)),l=n(2),s=n(3),u=n(4),p=(n(17),n(8)),d=n.n(p),m=function(e){var t=e.icon;return r.a.createElement("img",{src:"/icons/".concat(t,".svg"),alt:"weather icon",width:"120px"})},f=function(e){var t=e.date,n=e.icon,a=e.temperature,c=e.summary,i=(e.apparentTemperature,e.currentCityName),o=e.onClick;return r.a.createElement("div",{className:"card is-".concat(n)},r.a.createElement("div",{className:"card-row"},r.a.createElement("div",{className:"card-day"},t.format("dddd")),r.a.createElement("div",{className:"card-day"},t.format("MMM Do"))),r.a.createElement(m,{icon:n}),r.a.createElement("div",{className:"card-row"},r.a.createElement("div",{className:"card-temperature"},"".concat(parseInt(a,10),"\xb0")),r.a.createElement("div",{className:"card-weather"},c)),r.a.createElement("div",{className:"card-line"}),r.a.createElement("div",{className:"card-row"},r.a.createElement("div",{className:"card-city"},i),r.a.createElement("button",{className:"card-options",onClick:o},r.a.createElement("img",{src:d.a,width:32,alt:"options"}))))},h=n(9),v=n.n(h),y=n(10),g=function(e){var t=e.latt_long.split(","),n=Object(y.a)(t,2),a=n[0],r=n[1];return fetch("https://weather-app-m.herokuapp.com/forecast/".concat(a,",").concat(r),{mode:"cors"}).then((function(e){return e.json()}))},w=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currentWeather:null,prevCityId:null},e.updateWeather=function(){g(e.props.currentCity).then((function(t){console.log(t.currently),e.setState({currentWeather:t.currently})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateWeather()}},{key:"componentDidUpdate",value:function(e,t){if(this.state.currentWeather)return null;this.updateWeather()}},{key:"render",value:function(){if(!this.state.currentWeather)return null;var e=this.state.currentWeather,t=e.icon,n=e.temperature,a=e.apparentTemperature,c=e.summary;return r.a.createElement(f,{date:v()(),icon:t,temperature:n,apparentTemperature:a,summary:c,currentCityName:this.props.currentCity.title,onClick:this.props.onClick})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.currentCity.woeid!==t.prevCityId?{prevCityId:e.currentCity.woeid,currentWeather:null}:null}}]),n}(a.Component),C=(n(19),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=e.props;(0,t.onSelect)(t.city)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.city,n=e.isSelected;return r.a.createElement("li",{onClick:this.onClick,className:"list-item ".concat(n?"is-selected":"")},t.title)}}]),n}(r.a.Component)),k=function(e){var t=e.cities,n=e.currentCity,a=e.onSelect;return r.a.createElement("ul",{className:"list"},t.map((function(e){return r.a.createElement(C,{isSelected:n.title===e.title,city:e,onSelect:a})})))},E=(n(20),function(e){var t=e.onClick,n=e.cities,a=e.currentCity,c=e.onSelect;return r.a.createElement("div",{className:"card-back"},r.a.createElement(k,{cities:n,currentCity:a,onSelect:c}),r.a.createElement("button",{className:"button",onClick:t},"Check this city!"))}),b=(n(21),n(5)),N=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={flipped:!1,currentCity:b[0]},e.onFlip=function(){e.setState({flipped:!e.state.flipped})},e.onSelectCity=function(t){e.setState({currentCity:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"panel ".concat(this.state.flipped?"flip":"")},r.a.createElement("div",{className:"panel-front"},r.a.createElement(w,{onClick:this.onFlip,currentCity:this.state.currentCity})),r.a.createElement("div",{className:"panel-back"},r.a.createElement(E,{cities:b,onClick:this.onFlip,currentCity:this.state.currentCity,onSelect:this.onSelectCity})))}}]),n}(a.Component),S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(N,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/BalkanWeatherApp",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/BalkanWeatherApp","/service-worker.js");S?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):_(e)}))}}()}],[[11,1,2]]]);
//# sourceMappingURL=main.e4c2d2e4.chunk.js.map